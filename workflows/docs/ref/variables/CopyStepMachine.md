[**@saflib/workflows**](../index.md)

---

# Variable: CopyStepMachine

> `const` **CopyStepMachine**: `StateMachine`\<`CopyStepContext`, `AnyEventObject`, \{\[`key`: `string`\]: `undefined` \| `ActorRefFromLogic`\<`PromiseActorLogic`\<`unknown`, `NonReducibleUnknown`, `EventObject`\>\> \| `ActorRefFromLogic`\<`PromiseActorLogic`\<`CopyNextFileOutput`, `CopyStepContext`, `EventObject`\>\> \| `ActorRefFromLogic`\<`PromiseActorLogic`\<\{ `fileName`: `string`; \}, `CopyStepContext`, `EventObject`\>\>; \}, `Values`\<\{ `copyNextFile`: \{ `id`: `undefined` \| `string`; `logic`: `PromiseActorLogic`\<`CopyNextFileOutput`, `CopyStepContext`, `EventObject`\>; `src`: `"copyNextFile"`; \}; `noop`: \{ `id`: `undefined` \| `string`; `logic`: `PromiseActorLogic`\<`unknown`, `NonReducibleUnknown`, `EventObject`\>; `src`: `"noop"`; \}; `renameNextFile`: \{ `id`: `undefined` \| `string`; `logic`: `PromiseActorLogic`\<\{ `fileName`: `string`; \}, `CopyStepContext`, `EventObject`\>; `src`: `"renameNextFile"`; \}; \}\>, `Values`\<\{ `log`: \{ `params`: `LogParams`; `type`: `"log"`; \}; `prompt`: \{ `params`: `PromptParams`; `type`: `"prompt"`; \}; \}\>, `Values`\<\{ `hasMoreFiles`: \{ `params`: `unknown`; `type`: `"hasMoreFiles"`; \}; `skipped`: \{ `params`: `unknown`; `type`: `"skipped"`; \}; \}\>, `never`, `"done"` \| `"error"` \| `"copy"` \| `"popFile"` \| `"rename"`, `string`, [`CopyStepInput`](../interfaces/CopyStepInput.md) & `WorkflowInput`, [`WorkflowOutput`](../interfaces/WorkflowOutput.md), `EventObject`, `MetaObject`, \{ `context`: (`__namedParameters`) => `object`; `description`: `"Copy template files and rename placeholders"`; `id`: `"copy-template"`; `initial`: `"copy"`; `output`: (`__namedParameters`) => `object`; `states`: \{ `copy`: \{ `invoke`: \{ `input`: (`__namedParameters`) => `CopyStepContext`; `onDone`: readonly \[\{ `actions`: readonly \[\{ `params`: (`event`) => `object`; `type`: `"log"`; \}, `ActionFunction`\<`CopyStepContext`, `DoneActorEvent`\<`CopyNextFileOutput`, `string`\>, `AnyEventObject`, `undefined`, `Values`\<\{ `copyNextFile`: ...; `noop`: ...; `renameNextFile`: ...; \}\>, `never`, `never`, `never`, `never`\>\]; `guard`: `"skipped"`; `target`: `"popFile"`; \}, \{ `actions`: readonly \[`ActionFunction`\<`CopyStepContext`, `DoneActorEvent`\<`CopyNextFileOutput`, `string`\>, `AnyEventObject`, `undefined`, `Values`\<\{ `copyNextFile`: ...; `noop`: ...; `renameNextFile`: ...; \}\>, `never`, `never`, `never`, `never`\>\]; `target`: `"rename"`; \}\]; `src`: `"copyNextFile"`; \}; \}; `done`: \{ `actions`: readonly \[\{ `params`: (`event`) => `object`; `type`: `"log"`; \}\]; `entry`: \{ `params`: (`event`) => `object`; `type`: `"log"`; \}; `type`: `"final"`; \}; `error`: \{ `entry`: \{ `params`: (`event`) => `object`; `type`: `"log"`; \}; `type`: `"final"`; \}; `popFile`: \{ `always`: readonly \[\{ `guard`: `"hasMoreFiles"`; `target`: `"copy"`; \}, \{ `target`: `"done"`; \}\]; `entry`: readonly \[`ActionFunction`\<`CopyStepContext`, `AnyEventObject`, `AnyEventObject`, `undefined`, `Values`\<\{ `copyNextFile`: \{ `id`: `undefined` \| `string`; `logic`: `PromiseActorLogic`\<`CopyNextFileOutput`, `CopyStepContext`, `EventObject`\>; `src`: `"copyNextFile"`; \}; `noop`: \{ `id`: `undefined` \| `string`; `logic`: `PromiseActorLogic`\<`unknown`, `NonReducibleUnknown`, `EventObject`\>; `src`: `"noop"`; \}; `renameNextFile`: \{ `id`: `undefined` \| `string`; `logic`: `PromiseActorLogic`\<\{ `fileName`: ...; \}, `CopyStepContext`, `EventObject`\>; `src`: `"renameNextFile"`; \}; \}\>, `never`, `never`, `never`, `never`\>\]; \}; `rename`: \{ `entry`: readonly \[\{ `params`: (`event`) => `object`; `type`: `"log"`; \}\]; `invoke`: \{ `input`: (`__namedParameters`) => `CopyStepContext`; `onDone`: \{ `target`: `"popFile"`; \}; `src`: `"renameNextFile"`; \}; \}; \}; \}\>

Copies all `templateFiles` to the given directory, renaming all instances of `"template-file"` to the given `name`. Also replaces other variants of the string: camelCase, snake_case, and PascalCase.
